const navMenuItem=document.querySelectorAll(".nav-menu-container"),nav=document.querySelector(".nav"),order=document.querySelector(".order");let orderList=document.querySelector(".order__list");const mainContent=document.querySelector(".main-content");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}nav.addEventListener("click",e=>{order.style.display="none",mainContent.style.display="block",e.target&&e.target.classList.contains("nav-menu-container")&&navMenuItem.forEach((t,n)=>{e.target==t?t.classList.add("_active"):t.classList.remove("_active")})}),testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")})),$(".tab_item").not(":first").hide(),$(navMenuItem).first().addClass("_active"),$(".tab").click((function(){$(".tab").removeClass("active").eq($(this).index()).addClass("active"),$(".tab_item").hide().eq($(this).index()).fadeIn()})).eq(0).addClass("active");const header=$(".header__top-header"),slider=$(".slider"),sliderHeight=slider.height(),hederHeight=header.height();$(window).scroll((function(){$(this).scrollTop()>75?(header.addClass("header__top-header__fixed"),$("body").css({paddingTop:hederHeight+"px"})):(header.removeClass("header__top-header__fixed"),$("body").css({paddingTop:0}))})),$((function(){$(".scrollupBtn").each((function(e){$(this).on("click",(function(){$("html, body").animate({scrollTop:0},800)}))}))})),$(window).scroll((function(){$(this).scrollTop()>200?$(".scrollup").fadeIn():$(".scrollup").fadeOut()})),document.addEventListener("DOMContentLoaded",(function(){new SimpleAdaptiveSlider(".slider",{autoplay:!1,interval:5e3,swipe:!0})}));const basket=document.querySelector(".header__basket"),toBasket=document.querySelectorAll(".pizza__basket"),basketQuantity=document.querySelector(".header__basket-quantity");function renderNewEl(e){let t,n=e.target.closest(".pizza__container"),r=n.querySelector("img").getAttribute("src"),a=n.querySelector(".pizza__name").innerText,i=n.querySelector(".pizza__ingredients").innerText,o=n.querySelector(".pizza__grn").innerText,l=document.createElement("div");l.classList.add("order__item"),l.innerHTML=`\n      <div class="order__item-details">\n      <div class="item-img">\n        <img src="${r}" alt="">\n        <div class="order__quantity">\n          <div class="order__minus-quantity quantity-img">\n          </div>\n          <span class="order__current-quantity">1</span>\n          <div class="order__plus-quantity quantity-img">\n          </div>\n        </div>\n      </div>\n      <div class="order__item-description">\n        <div class="order__item-name">${a}</div>\n        <input type="hidden" name="pizza_name[]" " value="${a}">\n        <div class="order__item-ingredients">${i}</div>\n        <div class="order__price-value"><span class="order__price-grn-value">${o}</span></div>\n      </div>\n      <div class="order__close-button">X</div>\n    </div>\n    <div class="order__item-price">\n      <div class="order__finally-price">\n        Всього: <span class="order__finally-price-value">${o}</span>\n        <input type="hidden" name="pizza_price" " value="${o}">\n      </div>\n    </div>\n  `,t=l.querySelector(".order__current-quantity").innerText,console.log(t),orderList.append(l)}function plusQuantity(e){let t=e.target.closest(".order__item"),n=t.querySelector(".order__current-quantity"),r=t.querySelector(".order__current-quantity").innerText,a=document.getElementsByName("pizza_name[]"),i=t.querySelector(".order__item-name").innerText;n.innerText=++r,a.value=`${i} ${r}шт;`}function minusQuantity(e){let t=e.target.closest(".order__item"),n=t.querySelector(".order__current-quantity"),r=t.querySelector(".order__current-quantity").innerText,a=document.getElementsByName("pizza_name[]"),i=t.querySelector(".order__item-name").innerText;0==!r&&r>1&&(n.innerText=--r,a.value=`${i} ${r}шт;`)}function calculateQuantity(e){let t=e.target.closest(".order__item"),n=t.querySelector(".order__current-quantity").innerText,r=parseInt(t.querySelector(".order__price-value").innerText.match(/\d+/));t.querySelector(".order__finally-price-value").innerText=n*r+" грн"}function removeOrderItem(e){e.target.closest(".order__item").remove(),calculateBasketQuantity(),calculateTotalPay()}basket.addEventListener("click",()=>{order.style.display="block",mainContent.style.display="none",navMenuItem.forEach(e=>{e.classList.remove("_active")})}),toBasket.forEach(e=>{e.addEventListener("click",e=>{renderNewEl(e),calculateBasketQuantity(e),calculateTotalPay()})}),orderList.addEventListener("click",e=>{e.target.classList.contains("order__plus-quantity")?(plusQuantity(e),calculateQuantity(e),calculateTotalPay()):e.target.classList.contains("order__minus-quantity")?(minusQuantity(e),calculateQuantity(e),calculateTotalPay()):e.target.classList.contains("order__close-button")&&removeOrderItem(e)}),(calculateBasketQuantity=()=>{orderList.childElementCount>0?basketQuantity.style.opacity="1":basketQuantity.style.opacity="0",basketQuantity.innerText=orderList.childElementCount,console.log(orderList.childElementCount)})(),(calculateTotalPay=()=>{const e=document.querySelectorAll(".order__finally-price-value"),t=document.querySelector(".order__total-pay-value");let n=document.getElementsByName("pizza_price"),r=0;e.forEach(e=>{r+=Number(e.innerText.match(/\d+/))}),t.innerText=r,n.value=t.innerText})();