const navMenuItem=document.querySelectorAll(".nav-menu-container"),nav=document.querySelector(".nav"),order=document.querySelector(".order"),mainContent=document.querySelector(".main-content");function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}nav.addEventListener("click",e=>{order.style.display="none",mainContent.style.display="block",e.target&&e.target.classList.contains("nav-menu-container")&&navMenuItem.forEach((t,r)=>{e.target==t?t.classList.add("_active"):t.classList.remove("_active")})}),testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")})),$(".tab_item").not(":first").hide(),$(navMenuItem).first().addClass("_active"),$(".tab").click((function(){$(".tab").removeClass("active").eq($(this).index()).addClass("active"),$(".tab_item").hide().eq($(this).index()).fadeIn()})).eq(0).addClass("active");const header=$(".header__top-header"),slider=$(".slider"),sliderHeight=slider.height(),hederHeight=header.height();$(window).scroll((function(){$(this).scrollTop()>75?(header.addClass("header__top-header__fixed"),$("body").css({paddingTop:hederHeight+"px"})):(header.removeClass("header__top-header__fixed"),$("body").css({paddingTop:0}))})),$((function(){$(".scrollupBtn").each((function(e){$(this).on("click",(function(){$("html, body").animate({scrollTop:0},800)}))}))})),$(window).scroll((function(){$(this).scrollTop()>200?$(".scrollup").fadeIn():$(".scrollup").fadeOut()})),document.addEventListener("DOMContentLoaded",(function(){new SimpleAdaptiveSlider(".slider",{autoplay:!1,interval:5e3,swipe:!0})}));const basket=document.querySelector(".header__basket"),toBasket=document.querySelectorAll(".pizza__basket"),basketQuantity=document.querySelector(".header__basket-quantity");function renderNewEl(e){let t,r=e.target.closest(".pizza__container"),n=r.querySelector("img").getAttribute("src"),a=r.querySelector(".pizza__name").innerText,i=r.querySelector(".pizza__ingredients").innerText,l=r.querySelector(".pizza__grn").innerText,c=(e.target.dataset.id,document.querySelector(".order__list")),o=document.createElement("div");o.classList.add("order__item"),o.innerHTML=`\n      <div class="order__item-details">\n      <div class="item-img">\n        <img src="${n}" alt="">\n        <div class="order__quantity">\n          <div class="order__minus-quantity quantity-img">\n            <img src="images/minus.svg" alt="minus">\n          </div>\n          <span class="order__current-quantity">1</span>\n          <div class="order__plus-quantity quantity-img">\n            <img src="images/plus.svg" alt="plus">\n          </div>\n        </div>\n      </div>\n      <div class="order__item-description">\n        <div class="order__item-name">${a}</div>\n        <div class="order__item-ingredients">${i}</div>\n        <div class="order__price-value"><span class="order__price-grn-value">${l}</span></div>\n      </div>\n      <div class="order__close-button">X</div>\n    </div>\n    <div class="order__item-price">\n      <div class="order__finally-price">\n        Всього: <span class="order__finally-price-value">${l}</span>\n      </div>\n    </div>\n  `,t=o.querySelector(".order__current-quantity").innerText,c.append(o)}function plusQuantity(e){let t=e.target.closest(".order__item"),r=t.querySelector(".order__current-quantity"),n=t.querySelector(".order__current-quantity").innerText;t.querySelector("input");r.innerText=++n}function minusQuantity(e){let t=e.target.closest(".order__item"),r=t.querySelector(".order__current-quantity"),n=t.querySelector(".order__current-quantity").innerText;t.querySelector("input");0==!n&&n>1&&(r.innerText=--n)}function calculateQuantity(e){let t=e.target.closest(".order__item"),r=t.querySelector(".order__current-quantity").innerText,n=parseInt(t.querySelector(".order__price-value").innerText.match(/\d+/)),a=t.querySelector(".order__finally-price-value");t.querySelector("input");a.innerText=r*n+" грн"}function removeOrderItem(e){e.target.closest(".order__item").remove(),calculateBasketQuantity()}basket.addEventListener("click",()=>{order.style.display="block",mainContent.style.display="none",navMenuItem.forEach(e=>{e.classList.remove("_active")})}),toBasket.forEach(e=>{e.addEventListener("click",e=>{renderNewEl(e),changeQuantity(),calculateBasketQuantity(e),calculateTotalPay()})}),(changeQuantity=()=>{let e=document.querySelectorAll(".order__plus-quantity"),t=document.querySelectorAll(".order__minus-quantity"),r=document.querySelectorAll(".order__close-button");e.forEach(e=>{e.addEventListener("click",e=>{plusQuantity(e),calculateQuantity(e),calculateTotalPay()})}),t.forEach(e=>{e.addEventListener("click",e=>{minusQuantity(e),calculateQuantity(e),calculateTotalPay()})}),r.forEach(e=>{e.addEventListener("click",e=>{removeOrderItem(e)})})})(),(calculateBasketQuantity=()=>{let e=document.querySelector(".order__list");e.childElementCount>0?basketQuantity.style.opacity="1":basketQuantity.style.opacity="0",basketQuantity.innerText=e.childElementCount,console.log(e.childElementCount)})(),(calculateTotalPay=()=>{const e=document.querySelectorAll(".order__finally-price-value"),t=document.querySelector(".order__total-pay-value");let r=0;e.forEach(e=>{r+=Number(e.innerText.match(/\d+/))}),t.innerText=r,console.log(r)})();